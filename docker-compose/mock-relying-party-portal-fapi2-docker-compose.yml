services:
  mock-relying-party-service:
    image: 'mosipdev/mock-relying-party-service:develop'
    user: root
    ports:
      - 8888:8888
    environment:
      - ESIGNET_SERVICE_URL=https://esignet.es-dev.mosip.net/v1/esignet
      - ESIGNET_AUD_URL=https://esignet.es-dev.mosip.net/v1/esignet/oauth/v2/token
      - ESIGNET_PAR_ENDPOINT=https://esignet.es-dev.mosip.net/v1/esignet/oauth/par
      - ESIGNET_PAR_AUD_URL=https://esignet.es-dev.mosip.net/v1/esignet/oauth/par
      - CLIENT_PRIVATE_KEY=eyJrdHkiOiJSU0EiLCJuIjoiZ05rbGRMQ1paZ3AyWFdrMDdHWDdNN3ZOdWJNOGdzVzVZVTY1RHRJdFU3Vm8wV2JGTExqQVdySENvTkdyRGJIN3o5cEY1SnpfR0lTaE5aTVIzOWZQcGgxOHV5aXN3ZTRMUXpTYVBmeVA0UjRMLTc5OHd6d3BZUHdaUDljUzBSNWQ0akJzUXdSTEFKRnY0YTVnckdWNG1HZk5Tc2NZUDc3aVJDTUl4dm9hNHZsVjJjRFp6akNaYVJnbGNhT1FWeHJvZWtweVFvZjRGY0lwR3RzV296QWNTNERrOGtrLU93bE04dTUyVFlUc3dlTjdjTXJFMnVZTll3WlVEd2k1NmNJbjdFdS1XUWZIckJzWE9taDJtYTh5M2FTVThvWmJVeUZmNWJwYmZ2R2l6akRCU1dhLUFDZnl1X09wbklvbFQ5Qy1wblRyMkZEUC00QlN5Zjhrcy1hUFR3IiwiZSI6IkFRQUIiLCJkIjoiRG4zZHk1a05ON19YZmp3Vi1yeWhtemoxTTN5b1FxRVFiNVJXRmdlbmwzR2czMlJxcXRRQXRuS2x6RWFvc1hxaU1zZC04dTZCZG5WOFdEVTVYbTY4YVJlSjd0YnRUMGFCdDhaVHpzTDRQNzZNWkgwdUFCdGxJQVphcEthQTlFb3hEdjZaUHBSZUJ5dFVaUktpeHVFR3hrVnVmb21UX1o5dmZYQmZUVm5WNms4c3VWZ3hFZ1Zqa2tZYVItV2VlRjU2Y19Jd2dUdjVHaXdMdUNsRE0zVnpOSlg2UGc0T1hvY1R6V2FxNWMyMXJXaDkzSUx6WE5ONnhKaENvU0p1bW1XZ1lnWUFtSEJsc21YVlM2MElzeFhDby1Tdkh6QTFsdld0NWcyZU5RSWhsQTZ1MUpkMHBLSlE5Z2NLbGs0cm9OVUFNTnVUbXJtMHpnT3dVdUNzUDdYLWtRIiwicCI6IjU3UUJxQlpBdGpYUlREYjgyYXBuSHRqVFdfc2RUc05SYlFlN002cG1acWE5ZDlRUkRmd1N5R0JIVDVPT0ZPRnhCU3ZsWmZEZ1BiOVcwQ2RUam5VWGpKclItUWVRZENZenZ1Y2pmbnVuY3VqcXFkOXJtaWlOMnlMMi1YM2RBREliX2tKZU9ubV96cTBKRnNOMUtJaDRoTmtiakZCUDVoejBNRW5YZHRjVzhCYyIsInEiOiJqbHdJcTRMOTFDT09HTUJuRXYwLW5NZFZoWUcyZ0dkN1pwaGpDdy1NZE16V0ZTVGduaDBWdzVlc0xVWXZpck4zQ1g0UnVlcVZlS3ZQeGJUQmNGVW9YODFQM1RLWFBUTEdVNmRYUzBJclFRX2YxX29vQjRaY01wQUE4NG54U3ktYnFPYUQ4RU9FVWs3QVVkclRzaTFUck42d0ZHWDA2YjEzZFZCTDFGU3haWWsiLCJkcCI6IkFZWVdpTE4wdzM0QkhWNHpOWDlBWkZ5S3IwMHNlU3NocXZUbEQwYnNtM28zUHNWX1F6ZElMRmN0d09FNGl2eWNrS3NrUEJKa2R5TjlfNnB5aXpwTDZGblFUYkgyQ2oyQ0U1eFRpRzVwd0lDMW9sNWN4OHZDZXhGMHpGay1qZFRHaUZxSlloc1EzdHdXZGpiYzIySmlZSVZKQUJnN0hrbE1kZERXZ09xVE5RcyIsImRxIjoiQmowU1JESGhYY0tSSDVTTzc4NFpTRldUOGQzVldac3ZWVGVvWDN1MjlBZGwtbGM3WUxKMW1iU3ozdWdNZlUtUUQtSnVkRzlMVFpaNTdIZ1hZZ3paVUJsM1BvSlJEbVdETzNkQjVCSnFRdGVuUDVlLTJWV1NCTVU2eFhGdUdaVmtoT3BWTGRwSG1qUEpTYzBGS2ZIQ2tQalJUcE9KUUJVRmZ5YWRyQmhxRGNFIiwicWkiOiJheUJCMlhsX0JDSGs1T0w1VzdMcXpsYVJHZlZIU1ROQ2YzOVN5SkFCNEZLaXhrSVpkYjA2VVBoOGhsMFdBRzdfLVliMjUxV0lwLTRvSkV2VXd6UEdqRk9CaG5XRzdlVFN3NmNLZFJxSHdtSWNJUW5GMDVqeXVFdzIzbXFqc3JHUzdjZnFPcU1lS3BOQ0pndXpVX2sxdkZvNUZjREJPVHVRMFJ5M0ktc0pRNTAifQ==
      - JWE_USERINFO_PRIVATE_KEY=ewogICAgInAiOiAieF8zWXBZejI2aE1ZNVRleUhtRmVDeHFGMEotTzRIWnd4b0hsV3VkZlVDYV9vQktfeXJhQWxJOWtQYUF0Y1d1cV83S2V5SzFnS2FRQ005LWVUYnE4cnRGc3ZSRU15OW9ORk5scnlxMmVjTjVWSTBxMGMzM2gyd1NzM3FwWDBuVXNMMC13TTIzaWcyWkkzUkE1NWpWUzdEV3laTkJLdFF6TS1wRUVfU2RRTldrIiwKICAgICJrdHkiOiAiUlNBIiwKICAgICJxIjogInZJdnJtZE9wMEZUX3cxSUg0M2tjdG1VeEJWRUdScVdKcy1DZ0tuU1hTaFRmam93c3AtZ09CalVoRE1yNC13b0dyZVZyMkRaeDVPeGNtbDJ4eExHekJKSzMxLWZxQTFyYWN6S3F2M3RBbnpPMnhoOVJUSGtnZDR0c01CMGFlalAtTFVEajM4eGxhSWtyQlZ2b0NlN1ZpS29iSW12YVZweUdlM1hidV9hSWoxMCIsCiAgICAiZCI6ICJVQ0dCUTZ2aUtjWTVTc3E0YzdiTFUwbUVBWjAteXdrT3AteXpkWGppNGZ0LXlRRXpKMVdtQWp1dTlmcWh4ZVBKdkpWekZQLWduY0NVZzc0dEpiY2F3Q0IzMVIxUHJycDhKY1VnYk9fcFJmT3lwWFI3Zm1yYkpyWjRMc0ZkZURyUzVBdUFJS0NOVy1RQTRZajQxcnFBSEw4OEtOQXRvR01IdGQ5VDZ5dkhZUUVpMmtSbUUxZHQ4OXhqRjRHR2E2MFBzaml3RVJvdm9EUWxjWmtwekM5QXpPRm80NXZ6a2RtSWlLRlFVR1hkRWJjSFhVOVRmWFdSc3RhOFlsdGRWVWM3NHhsbk13MDJtNm4tWjU3VG5kdVFOSFJHMVhZd3lGZEh3RFI5S0pDU0lCR3htRDRDWVNVdTc1b0JRLWdVZUtYQ1Y2UENiQVRoT1J4ZG9sako2SkhtNFEiLAogICAgImUiOiAiQVFBQiIsCiAgICAidXNlIjogInNpZyIsCiAgICAicWkiOiAiSDRWd2JHQkR3UFJkenJzZVpYSFo4M29kakwwNnJhWnEybzZaQ1FnMzdTUFVpVHY4dWZNMHNJaHJGdEhKd0xUN1ZXVlRIMy0xZ00xOEZvcVBHekVUNGhnN252UE1FaVpaQmVzUGJ6NWpQb2VLeTFHczFfSWVxWVRjbkxKRzM0azZfck1KVXFzeUZWQ001bjY5Ykcyaml5SzEzcjFRVVNWcGdYOFJqX1RrMGRNIiwKICAgICJkcCI6ICJyQzN4SW42ZGFlTXRNTkxscC1BLUhpTWtoX3VHXzlzWXR0N0lmcDNxWWxBcDlILVAzYy1JSGQ3aDkyaDdGMFlSXzNoaDJmWGliNWREU2pQQXo3endpelhFZjNZNVpSd0MzU3RlOFN6TzF1LWpydkczTUNOMW1xR0l6MThxb3dlOEZiTnV5S2hYTnJlT0RielZqRXZtYTNURGRLWWJXNHA4dzFDdFVlSlIzTmsiLAogICAgImFsZyI6ICJSUzI1NiIsCiAgICAiZHEiOiAiRklNOGZKM1VpYl9WbTVCZkgxWmIwMVFyQXlNUGhid1l3U01kQ2NGcGZEdk5IcHNOZUs3OFo1eDhIZ0l2R0ZDODdVcGFjMGxwRnJqSVVsc0RMaDBQRnQ1SGRndmJIOFpRb2R2UFM4bkNfQThLUVhfQ3Zva25DUnA0Q0x3QjEyMjBwNE81eHUxYjB3V3BVb252TXJWek1jMGY2cHpGUWtzQkxvbGlBSThQeUZrIiwKICAgICJuIjogImswdTVfR2RhTkRRbXNlS240UWgxYlhTblV1ODhvOHZpRFAza1NRTVJqRG9xaG9RYXpRRUItVWJxREI0UnhKS1A0Y2VFWnJLemVaQnl6U0hqN0pZU2Nxb0Q3b3V4RXY0X1FxMnQxREFuR21GYTUycGVjU29VclIxbFBvQmZGRE5LTndFSzJiS25TbEdsVXRhYnJudjNsRXBkck1EM2xOX1RYNlJrVjJXT0k5NF9PT09tU29mTEFuWVlkUGN0QmVGLW0tb0JOczBCcklSRUVqRkc3Y2dZYlpIVE55Y0lnNnJnVVVMVVNTeVE4blhFSFNRUy1DWUF6ek9HTlFvTUdGdmMyazNwLTgya1pZNHY2NXowX2s3RWVlZjU4UDI3TDhVY1plVEh5YUp3LUJjYjFXMThQNGJRakU1dVVybFEtUjBZNGdBeGE5d3dSaGtrQVFXUFc4RU9KUSIKfQ== 
      - USERINFO_RESPONSE_TYPE=jwt
      - SCOPE_USER_PROFILE=openid profile
      - REDIRECT_URI=https://healthservices.es-dev.mosip.net/userprofile
      - ACRS=mosip:idp:acr:linked-wallet mosip:idp:acr:knowledge mosip:idp:acr:generated-code mosip:idp:acr:password
      - CLAIMS_USER_PROFILE={"userinfo":{"name":{"essential":true},"phone_number":{"essential":true},"verified_claims":[{"verification":{"trust_framework":{"value":"ABC TF"}},"claims":{"phone_number":{"essential":true}}},{"verification":{"trust_framework":{"value":"XYZ TF"}},"claims":{"name":{"essential":true}}}]},"id_token":{}}

  mock-relying-party-ui:
    image: 'mosipdev/mock-relying-party-ui:develop'
    user: root
    ports:
      - 3000:3000
    depends_on:
      - mock-relying-party-service
    environment:
      - container_user=mosip
      - ESIGNET_UI_BASE_URL=https://esignet.es-dev.mosip.net
      - MOCK_RELYING_PARTY_SERVER_URL=https://healthservices.es-dev.mosip.net/mock-relying-party-service
      - REDIRECT_URI=https://healthservices.es-dev.mosip.net/userprofile
      - CLIENT_ID=IIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgNkld
      - ACRS=mosip:idp:acr:static-code%20mosip:idp:acr:generated-code%20mosip:idp:acr:biometrics%20mosip:idp:acr:linked-wallet%20mosip:idp:acr:password%20mosip:idp:acr:knowledge
      - REDIRECT_URI_REGISTRATION=https://healthservices.es-dev.mosip.net/registration
      - SIGN_IN_BUTTON_PLUGIN_URL=https://esignet-mock.es-qa1.mosip.net/plugins/sign-in-button-plugin.js
      - DISPLAY=page
      - PROMPT=none
      - GRANT_TYPE=authorization_code
      - CLAIMS_LOCALES=en
      - SCOPE_USER_PROFILE=openid profile
      - CLAIMS_USER_PROFILE=%7B%22userinfo%22%3A%7B%22birthdate%22%3A%7B%22essential%22%3Atrue%7D%2C%22verified_claims%22%3A%5B%7B%22verification%22%3A%7B%22trust_framework%22%3A%7B%22value%22%3A%22ABC%20TF%22%7D%2C%22verification_process%22%3Anull%7D%2C%22claims%22%3A%7B%22phone_number%22%3A%7B%22essential%22%3Atrue%7D%7D%7D%2C%7B%22verification%22%3A%7B%22trust_framework%22%3A%7B%22value%22%3A%22XYZ%20TF%22%7D%7D%2C%22claims%22%3A%7B%22name%22%3A%7B%22essential%22%3Atrue%7D%7D%7D%5D%7D%2C%22id_token%22%3A%7B%7D%7D
      - CLAIMS_REGISTRATION=%7B%22userinfo%22:%7B%22given_name%22:%7B%22essential%22:true%7D,%22phone_number%22:%7B%22essential%22:false%7D,%22email%22:%7B%22essential%22:true%7D,%22picture%22:%7B%22essential%22:false%7D,%22gender%22:%7B%22essential%22:false%7D,%22birthdate%22:%7B%22essential%22:false%7D,%22address%22:%7B%22essential%22:false%7D%7D,%22id_token%22:%7B%7D%7D
      - DEFAULT_LANG=en
      - FALLBACK_LANG=%7B%22label%22%3A%22English%22%2C%22value%22%3A%22en%22%7D
      - PAR_CALLBACK_NAME=get_requestUri
      - PAR_CALLBACK_TIMEOUT=5000
      - DPOP_CALLBACK_NAME=get_dpop_jkt